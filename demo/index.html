<html>
  <head>
    <script src='./index.js'></script>
    <link href='./index.css' rel='stylesheet' type='text/css' />
    <style type="text/css">
      body {
        font-family: sans-serif;
      }
      .autofill-container {
        --mdc-theme-primary: green;
      }
    </style>
  </head>
  <body>
    <div id='charity-base-autofill' class='autofill-container'></div>
    <div id='errors' style="color: red;"></div>
    <script>
    !function() {
      let apiKey
      try {
        apiKey = window.location.search.split('api_key=')[1].split('&')[0]
      } catch(e) {
        document.getElementById('errors').innerHTML = "Failed to find 'api_key' in query string"
      }
      var cb = CharityBase(apiKey)
      var elements = cb.elements()
      var autofill = elements.createAutofill({
        outlined: true,
        onButtonClick: x => console.log(x)
      })
      autofill.mount('charity-base-autofill')
    }()
    </script>
  </body>
</html>